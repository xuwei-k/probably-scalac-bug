- https://github.com/xuwei-k/Lenses/commit/22683bc46d119b6
- https://github.com/trueaccord/Lenses/blob/v0.4.1/src/main/scala/com/trueaccord/lenses/package.scala
- https://travis-ci.org/xuwei-k/probably-scalac-bug/builds/88049248


![travis](travis.png)


```
scala.reflect.internal.Types$TypeError: type mismatch;
 found   : com.example.Lenses.Lens[A,A] => com.example.Lenses.Mutation[A]
    (which expands to)  com.example.Lenses.Lens[A,A] => (A => A)
 required: com.example.Lenses.Lens[A,A] => com.example.Lenses.Mutation[A]
    (which expands to)  com.example.Lenses.Lens[A,A] => (A => A)
	at scala.tools.nsc.typechecker.Contexts$ThrowingReporter.handleError(Contexts.scala:1364)
	at scala.tools.nsc.typechecker.Contexts$ContextReporter.issue(Contexts.scala:1216)
	at scala.tools.nsc.typechecker.Contexts$Context.issue(Contexts.scala:573)
	at scala.tools.nsc.typechecker.ContextErrors$ErrorUtils$.issueTypeError(ContextErrors.scala:106)
	at scala.tools.nsc.typechecker.ContextErrors$ErrorUtils$.issueNormalTypeError(ContextErrors.scala:99)
	at scala.tools.nsc.typechecker.ContextErrors$TyperContextErrors$TyperErrorGen$.AdaptTypeError(ContextErrors.scala:218)
	at scala.tools.nsc.typechecker.Typers$Typer.adaptMismatchedSkolems$1(Typers.scala:1005)
	at scala.tools.nsc.typechecker.Typers$Typer.fallbackAfterVanillaAdapt$1(Typers.scala:1073)
	at scala.tools.nsc.typechecker.Typers$Typer.vanillaAdapt$1(Typers.scala:1110)
	at scala.tools.nsc.typechecker.Typers$Typer.adapt(Typers.scala:1153)
	at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5399)
	at scala.tools.nsc.typechecker.Typers$Typer.typedInternal(Typers.scala:5412)
	at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5359)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5363)
	at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$$anonfun$220(Typers.scala:3153)
	at scala.tools.nsc.typechecker.Typers$Typer.typedArg(Typers.scala:463)
	at scala.tools.nsc.typechecker.PatternTypers$PatternTyper$class.typedArgWithFormal$1(PatternTypers.scala:112)
	at scala.tools.nsc.typechecker.PatternTypers$PatternTyper$class.scala$tools$nsc$typechecker$PatternTypers$PatternTyper$class$$$anonfun$4(PatternTypers.scala:115)
	at scala.tools.nsc.typechecker.PatternTypers$PatternTyper$class$$Lambda$682/1451079763.apply(Unknown Source)
	at scala.runtime.Tuple2Zipped$.scala$runtime$Tuple2Zipped$$$anonfun$1(Tuple2Zipped.scala:46)
	at scala.tools.nsc.typechecker.PatternTypers$PatternTyper$class$$Lambda$683/1511401517.apply(Unknown Source)
	at scala.collection.immutable.List.foreach(List.scala:378)
	at scala.tools.nsc.typechecker.PatternTypers$PatternTyper$class.typedArgsForFormals(PatternTypers.scala:115)
	at scala.tools.nsc.typechecker.Typers$Typer.typedArgsForFormals(Typers.scala:111)
	at scala.tools.nsc.typechecker.Typers$Typer.handleMonomorphicCall$1(Typers.scala:3459)
	at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$$anonfun$251(Typers.scala:3485)
	at scala.tools.nsc.typechecker.Typers$Typer.doTypedApply(Typers.scala:3485)
	at scala.tools.nsc.typechecker.Typers$Typer.normalTypedApply$1(Typers.scala:4535)
	at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4569)
	at scala.tools.nsc.typechecker.Typers$Typer.typedInAnyMode$1(Typers.scala:5332)
	at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:5349)
	at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5385)
	at scala.tools.nsc.typechecker.Typers$Typer.typedInternal(Typers.scala:5412)
	at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5359)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5363)
	at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5437)
	at scala.tools.nsc.typechecker.Typers$Typer.typedPos(Typers.scala:5444)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.scala$tools$nsc$transform$ExtensionMethods$Extender$$$anonfun$26(ExtensionMethods.scala:255)
	at scala.tools.nsc.transform.ExtensionMethods$Extender$$Lambda$2713/928932748.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.scala$tools$nsc$transform$ExtensionMethods$Extender$$$anonfun$25(ExtensionMethods.scala:254)
	at scala.tools.nsc.transform.ExtensionMethods$Extender$$Lambda$2712/27458170.apply(Unknown Source)
	at scala.reflect.internal.SymbolTable.deriveDefDef(SymbolTable.scala:16)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:252)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.scala$reflect$api$Trees$Transformer$$$anonfun$13(Trees.scala:2589)
	at scala.reflect.api.Trees$Transformer.transformStats(Trees.scala:2587)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:265)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:125)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1404)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.super$transform(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.scala$tools$nsc$transform$TypingTransformers$TypingTransformer$$$anonfun$1(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$Lambda$1411/409726531.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:25)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:197)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.transformTemplate(Trees.scala:2563)
	at scala.reflect.internal.Trees$class.scala$reflect$internal$Trees$class$$$anonfun$37(Trees.scala:1408)
	at scala.reflect.internal.Trees$class$$Lambda$1412/167804097.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:25)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1407)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:44)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:260)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.scala$reflect$api$Trees$Transformer$$$anonfun$13(Trees.scala:2589)
	at scala.reflect.api.Trees$Transformer.transformStats(Trees.scala:2587)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:265)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:125)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1404)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.super$transform(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.scala$tools$nsc$transform$TypingTransformers$TypingTransformer$$$anonfun$1(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$Lambda$1411/409726531.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:25)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:199)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.transformTemplate(Trees.scala:2563)
	at scala.reflect.internal.Trees$class.scala$reflect$internal$Trees$class$$$anonfun$38(Trees.scala:1413)
	at scala.reflect.internal.Trees$class$$Lambda$1410/144993038.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:25)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1412)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:44)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:260)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.scala$reflect$api$Trees$Transformer$$$anonfun$13(Trees.scala:2589)
	at scala.reflect.api.Trees$Transformer.transformStats(Trees.scala:2587)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:265)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:125)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1404)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.super$transform(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.scala$tools$nsc$transform$TypingTransformers$TypingTransformer$$$anonfun$1(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$Lambda$1411/409726531.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:25)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:199)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.transformTemplate(Trees.scala:2563)
	at scala.reflect.internal.Trees$class.scala$reflect$internal$Trees$class$$$anonfun$38(Trees.scala:1413)
	at scala.reflect.internal.Trees$class$$Lambda$1410/144993038.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:25)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1412)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:44)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:260)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.reflect.api.Trees$Transformer.scala$reflect$api$Trees$Transformer$$$anonfun$13(Trees.scala:2589)
	at scala.reflect.api.Trees$Transformer.transformStats(Trees.scala:2587)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:265)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transformStats(ExtensionMethods.scala:125)
	at scala.reflect.internal.Trees$class.scala$reflect$internal$Trees$class$$$anonfun$40(Trees.scala:1426)
	at scala.reflect.internal.Trees$class$$Lambda$1409/1427947138.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:25)
	at scala.reflect.internal.Trees$class.itransform(Trees.scala:1426)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.internal.SymbolTable.itransform(SymbolTable.scala:16)
	at scala.reflect.api.Trees$Transformer.transform(Trees.scala:2555)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.super$transform(TypingTransformers.scala:40)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.scala$tools$nsc$transform$TypingTransformers$TypingTransformer$$$anonfun$2(TypingTransformers.scala:42)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer$$Lambda$1408/1618890983.apply(Unknown Source)
	at scala.reflect.api.Trees$Transformer.atOwner(Trees.scala:2600)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.atOwner(TypingTransformers.scala:30)
	at scala.tools.nsc.transform.TypingTransformers$TypingTransformer.transform(TypingTransformers.scala:25)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:260)
	at scala.tools.nsc.transform.ExtensionMethods$Extender.transform(ExtensionMethods.scala:125)
	at scala.tools.nsc.ast.Trees$Transformer.transformUnit(Trees.scala:147)
	at scala.tools.nsc.transform.Transform$Phase.apply(Transform.scala:30)
	at scala.tools.nsc.Global$GlobalPhase.scala$tools$nsc$Global$GlobalPhase$$$anonfun$11(Global.scala:440)
	at scala.tools.nsc.Global$GlobalPhase.applyPhase(Global.scala:431)
	at scala.tools.nsc.Global$GlobalPhase.scala$tools$nsc$Global$GlobalPhase$$$anonfun$10(Global.scala:398)
	at scala.tools.nsc.Global$GlobalPhase.scala$tools$nsc$Global$GlobalPhase$$$anonfun$10$adapted(Global.scala:398)
	at scala.tools.nsc.Global$GlobalPhase$$Lambda$399/1750642581.apply(Unknown Source)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1370)
	at scala.tools.nsc.Global$GlobalPhase.run(Global.scala:398)
	at scala.tools.nsc.Global$Run.compileUnitsInternal(Global.scala:1505)
	at scala.tools.nsc.Global$Run.compileUnits(Global.scala:1490)
	at scala.tools.nsc.Global$Run.compileSources(Global.scala:1485)
	at scala.tools.nsc.Global$Run.compile(Global.scala:1586)
	at xsbt.CachedCompiler0.run(CompilerInterface.scala:116)
	at xsbt.CachedCompiler0.run(CompilerInterface.scala:95)
	at xsbt.CompilerInterface.run(CompilerInterface.scala:26)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at sbt.compiler.AnalyzingCompiler.call(AnalyzingCompiler.scala:101)
	at sbt.compiler.AnalyzingCompiler.compile(AnalyzingCompiler.scala:47)
	at sbt.compiler.AnalyzingCompiler.compile(AnalyzingCompiler.scala:41)
	at sbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply$mcV$sp(MixedAnalyzingCompiler.scala:51)
	at sbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply(MixedAnalyzingCompiler.scala:51)
	at sbt.compiler.MixedAnalyzingCompiler$$anonfun$compileScala$1$1.apply(MixedAnalyzingCompiler.scala:51)
	at sbt.compiler.MixedAnalyzingCompiler.timed(MixedAnalyzingCompiler.scala:75)
	at sbt.compiler.MixedAnalyzingCompiler.compileScala$1(MixedAnalyzingCompiler.scala:50)
	at sbt.compiler.MixedAnalyzingCompiler.compile(MixedAnalyzingCompiler.scala:65)
	at sbt.compiler.IC$$anonfun$compileInternal$1.apply(IncrementalCompiler.scala:160)
	at sbt.compiler.IC$$anonfun$compileInternal$1.apply(IncrementalCompiler.scala:160)
	at sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:66)
	at sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:64)
	at sbt.inc.IncrementalCommon.cycle(IncrementalCommon.scala:31)
	at sbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:62)
	at sbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:61)
	at sbt.inc.Incremental$.manageClassfiles(Incremental.scala:89)
	at sbt.inc.Incremental$.compile(Incremental.scala:61)
	at sbt.inc.IncrementalCompile$.apply(Compile.scala:54)
	at sbt.compiler.IC$.compileInternal(IncrementalCompiler.scala:160)
	at sbt.compiler.IC$.incrementalCompile(IncrementalCompiler.scala:138)
	at sbt.Compiler$.compile(Compiler.scala:128)
	at sbt.Compiler$.compile(Compiler.scala:114)
	at sbt.Defaults$.sbt$Defaults$$compileIncrementalTaskImpl(Defaults.scala:814)
	at sbt.Defaults$$anonfun$compileIncrementalTask$1.apply(Defaults.scala:805)
	at sbt.Defaults$$anonfun$compileIncrementalTask$1.apply(Defaults.scala:803)
	at scala.Function1$$anonfun$compose$1.apply(Function1.scala:47)
	at sbt.$tilde$greater$$anonfun$$u2219$1.apply(TypeFunctions.scala:40)
	at sbt.std.Transform$$anon$4.work(System.scala:63)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:226)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:226)
	at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:17)
	at sbt.Execute.work(Execute.scala:235)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:226)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:226)
	at sbt.ConcurrentRestrictions$$anon$4$$anonfun$1.apply(ConcurrentRestrictions.scala:159)
	at sbt.CompletionService$$anon$2.call(CompletionService.scala:28)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[error] (compile:compileIncremental) scala.reflect.internal.Types$TypeError: type mismatch;
[error]  found   : com.example.Lenses.Lens[A,A] => com.example.Lenses.Mutation[A]
[error]     (which expands to)  com.example.Lenses.Lens[A,A] => (A => A)
[error]  required: com.example.Lenses.Lens[A,A] => com.example.Lenses.Mutation[A]
[error]     (which expands to)  com.example.Lenses.Lens[A,A] => (A => A)
```
